<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Phaser Tests</title>
    <link rel='stylesheet' type="text/css" href='../stylesheets/style.css'/>
    <link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">
  </head>
  <body>
    <!-- alignment and laser tracking elements -->
    <div id="phaserContainer" class="fullscreenContainer">
      <div id="hud" class="hudcontainer">
        <div class="newsholder">
          <div class="game-header">
            <h1>Global Thermonuclear Warfare</h1>
            <h3 v-bind="year">Year: {{year}}</h3>
            <h3 v-bind="gameID">Game ID: {{gameID}}</h3>
          </div>
          <div class="total-forces">
            <h1>Total Forces:</h1>
            <h3 v-for="(player, key, index) in players" v-bind:style="{ backgroundColor: colors[index] }">
              <span>
                {{ player.name }}: {{ player.totalDeclaredForces }}
              </span>
            </h3>
          </div>
          <!-- <div class="ticker-holder">
            <div class="ticker">
              <div class="tickeritem">Year: 1950</div>
              <div class="tickeritem">Subs deployed to Atlantic Ocean... </div>
              <div class="tickeritem">ICBMs declared in South America...</div>
              <div class="tickeritem">More spy messages...</div>
            </div>
          </div> -->
        </div>
      </div>
      <div id="joinGameModal" v-if="state !== 'off'" class="joinGameModal modal">
        <div v-if="state === 'connect'">
          <div v-if="error">
            {{ error }}
          </div>
          <div>
            Start a new game:
          </div>
          <button id="newGameButton" v-on:click="newGame" class="modalButton" type="button">
            New game
          </button>
          <div>
            Or load an existing game:
          </div>
          <div>
            <input v-model="gameID" placeholder="Game ID"></input>
            <button id="existingGameButton" v-on:click="existingGame" class="modalButton" type="button">Connect</button>
          </div>
        </div>
        <div v-else-if="state === 'join'">
          <div class="instructions">
            Join game with your phone app.
          </div>
          <div class="gameIdLabel">
            Game ID: {{ gameID }}
          </div>
          Users:
          <ul>
            <li v-for="(username, index) in usernames" v-bind:style="{ backgroundColor: colors[index] }">{{ username }}</li>
          </ul>
          <button id="beginGameButton" v-on:click="beginGame" class="modalButton" type="button">
            Begin game
          </button>
        </div>
      </div>
      <div id="gameOverModal" class="gameOverModal modal">
        <div>
          GAME OVER
        </div>
        <div>
          OUTCOME: {{ outcomeMessages }}
        </div>
        <div>
          WINNER: {{ winner }}
        </div>
      </div>
      <canvas id="alignmentCanvas" class="alignmentCanvas"></canvas>
      <video id="trackingVideo" class="trackingVideo" preload autoplay loop muted></video>
    </div>
    <script src="https://www.gstatic.com/firebasejs/4.11.0/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyCoG0SCkdYyS_6ah9OUlTVdajp-QsMKfi8",
        authDomain: "gtwthegame.firebaseapp.com",
        databaseURL: "https://gtwthegame.firebaseio.com",
        projectId: "gtwthegame",
        storageBucket: "gtwthegame.appspot.com",
        messagingSenderId: "58827652319"
      };
      firebase.initializeApp(config);
    </script>
    <script
      src="https://code.jquery.com/jquery-3.3.1.min.js"
      integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
      crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script src="/board/vendor/tracking.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/phaser-ce/2.10.3/phaser.js"></script> -->
    <script src="/board/vendor/phaser.js"></script>

    <script src="/board/globals.js"></script>
    <script src="/board/alignment.js"></script>
    <script src="/board/hud.js"></script>
    <script src="/board/continent.js"></script>
    <script src="/board/boardInit.js"></script>
    <script src="/board/peace.js"></script>
    <script src="/board/war.js"></script>
    <script src="/board/gameObjects/playerPointer.js"></script>
    <script src="/board/gameObjects/intersection.js"></script>
    <script src="/board/gameObjects/capital.js"></script>
    <script src="/board/gameObjects/bomber.js"></script>
    <script src="/board/gameObjects/missile.js"></script>
    <script src="/board/gameObjects/submarine.js"></script>
    <script src="/board/gameObjects/explosion.js"></script>
    <script src="/board/gameObjects/indicator.js"></script>
    <script src="/board/gameObjects/launch.js"></script>
    <script src="/board/gameObjects/projectile.js"></script>
    <script src="/board/gameObjects.js"></script>
  </body>
</html>
